
<!-- Escolha de tipo de artigo -->
<section class="article-type-selector show" id="articleTypeSelector">
  <h2>O que pretende fazer?</h2>

  <div class="article-type-buttons">
    <button class="primary-button" onclick="startNewArticle()">
      <i class="material-icons">edit_note</i>
      Criar Novo Artigo
    </button>

    <button class="secondary-button" onclick="abrirPainelReformulacaoCompleto()">
      <i class="material-icons">sync_alt</i>
      Reformular Artigo
    </button>
    
  
  </div>
</section>

<!-- novo_artigo.html (painel para SPA) -->
<section class="upload-wrapper" id="uploadSection" style="display: none;">
  <h2>Carregamento de Ficheiros</h2>

  <div class="upload-box" id="dropzone">
    <i class="material-icons upload-icon">upload_file</i>
    <p>Arraste e solte at√© 10 ficheiros ou clique para selecionar</p>
    <input type="file" id="fileInput" multiple hidden accept=".pdf,.docx,.mp3,.wav,.mp4,.avi,.mov" />
    <button class="upload-btn" onclick="document.getElementById('fileInput').click()">Selecionar Ficheiros</button>
  </div>

  <div class="upload-progress" id="uploadProgress">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div class="note-area">
    <label for="notas">Notas sobre os ficheiros:</label>
    <textarea id="notas" placeholder="Insira as suas observa√ß√µes, instru√ß√µes ou contexto do conte√∫do..."></textarea>
  </div>

  <div class="preview-list" id="previewList"></div>

  <div class="upload-actions">
    <button class="secondary-button" onclick="cancelAll()">Cancelar</button>
    <button class="primary-button" onclick="abrirPainelOrganizacao()">
      <i class="material-icons">tune</i> Organizar
    </button>    
  </div>
</section>

  <!-- Painel de Organiza√ß√£o: deve estar oculto inicialmente -->
<section id="painelOrganizacao" class="organizacao-wrapper" style="display: none;">
  
  <!-- PAINEL 1: Defini√ß√µes Gerais -->
  <section class="organizacao-painel" id="painel-definicoes">
    <h2>Defini√ß√µes Iniciais</h2>

    <div class="form-group">
      <label for="genero">G√©nero do Artigo:</label>
      <select id="genero" required>
        <option disabled selected>Escolher...</option>
        <option>Not√≠cia</option>
        <option>Opini√£o</option>
        <option>Reportagem</option>
      </select>
    </div>

    <div class="form-group">
      <label for="categoria">Categoria:</label>
      <select id="categoria" required>
        <option disabled selected>Escolher...</option>
        <option>Pol√≠tica</option>
        <option>Sociedade</option>
        <option>Economia</option>
        <option>Internacional</option>
        <option>Tecnologia</option>
        <option>Entretenimento</option>
        <option>Cultura</option>
      </select>
    </div>

    <div class="form-group">
      <label for="tituloInicial">Sugest√£o de T√≠tulo:</label>
      <input type="text" id="tituloInicial" placeholder="Digite um t√≠tulo inicial..." />
    </div>

    <div class="painel-acoes">
      <button class="primary-button" onclick="submeterPainel(1)" title="Submeter defini√ß√µes">
        <i class="material-icons">done</i> Submeter
      </button>
    </div>
  </section>
</section>

<!-- PAINEL 2: √Çngulo de Abordagem -->
<section id="painel-angulo" class="organizacao-painel" style="display: none;">
  <h2>Selecione o √Çngulo de Abordagem</h2>
  <p>A IA analisou os dados econ√≥micos e prop√¥s os seguintes caminhos editoriais. Escolha o mais adequado:</p>

  <ul class="lista-angulos">
    <li>
      <input type="radio" id="angulo1" name="angulo" value="Crescimento Econ√≥mico de 5%">
      <label for="angulo1">
        üìà <strong>Crescimento Econ√≥mico de 5%</strong><br />
        <small>Indicadores econ√≥micos detalhados, impacto no PIB, sectores em crescimento.</small>
      </label>
    </li>
    <li>
      <input type="radio" id="angulo2" name="angulo" value="Situa√ß√£o da D√≠vida P√∫blica">
      <label for="angulo2">
        üí≥ <strong>Situa√ß√£o da D√≠vida P√∫blica</strong><br />
        <small>Valores actuais da d√≠vida, comparativos hist√≥ricos, factores de aumento.</small>
      </label>
    </li>
    <li>
      <input type="radio" id="angulo3" name="angulo" value="Pagamento e Gest√£o da D√≠vida P√∫blica">
      <label for="angulo3">
        üí∞ <strong>Pagamento e Gest√£o da D√≠vida P√∫blica</strong><br />
        <small>Estrat√©gias adoptadas, calend√°rio de pagamentos, impactos fiscais.</small>
      </label>
    </li>
  </ul>

  <div class="painel-acoes">
    <button class="primary-button" onclick="submeterPainel(2)">
      <i class="material-icons">done</i> Submeter √Çngulo
    </button>
  </div>
</section>

<!-- PAINEL 3: Sugest√µes de T√≠tulos -->
<section class="organizacao-painel" id="painel-titulos" style="display: none;">
  <h2>Sugest√µes de T√≠tulos</h2>
  <p>A IA analisou os conte√∫dos e prop√¥s os seguintes t√≠tulos poss√≠veis. Pode editar ou aprovar o que considerar melhor:</p>

  <div class="titulo-sugestoes">
    <div class="sugestao-titulo" data-index="0">
      <span class="preview">Crescimento Econ√≥mico Atinge 5% em 2024</span>
      <input class="input-editar" type="text" style="display:none" />
      <div class="acoes">
        <button class="icon-button editar" title="Editar"><i class="material-icons">edit</i></button>
        <button class="icon-button validar" title="Validar"><i class="material-icons">check_circle</i></button>
      </div>
    </div>

    <div class="sugestao-titulo" data-index="1">
      <span class="preview">D√≠vida P√∫blica Regista Novo Recorde</span>
      <input class="input-editar" type="text" style="display:none" />
      <div class="acoes">
        <button class="icon-button editar" title="Editar"><i class="material-icons">edit</i></button>
        <button class="icon-button validar" title="Validar"><i class="material-icons">check_circle</i></button>
      </div>
    </div>

    <div class="sugestao-titulo" data-index="2">
      <span class="preview">Governo Rev√™ Estrat√©gia para Pagamento da D√≠vida</span>
      <input class="input-editar" type="text" style="display:none" />
      <div class="acoes">
        <button class="icon-button editar" title="Editar"><i class="material-icons">edit</i></button>
        <button class="icon-button validar" title="Validar"><i class="material-icons">check_circle</i></button>
      </div>
    </div>
  </div>

  <div class="painel-acoes">
    <button class="primary-button" onclick="submeterPainel(3)">
      <i class="material-icons">done</i> Submeter T√≠tulos
    </button>
  </div>
</section>

<!-- PAINEL 4: Lead Jornal√≠stico -->
<section id="painel-lead" class="organizacao-painel" style="display: none;">
  <h2>Estrutura de Lead Jornal√≠stico</h2>
  <p>Com base nos conte√∫dos carregados, a IA prop√¥s as respostas abaixo. Pode edit√°-las ou valid√°-las individualmente:</p>

  <div class="lead-blocos">
    <!-- Cada bloco representa uma pergunta -->
    <div class="lead-item" data-id="quem">
      <h4>üßç Quem?</h4>
      <div class="lead-conteudo">
        <span class="lead-text">O Ministro das Finan√ßas, Jo√£o Pereira</span>
        <input type="text" class="lead-input" style="display: none;" />
        <div class="lead-acoes">
          <button class="icon-btn editar-btn" title="Editar"><i class="material-icons">edit</i></button>
          <button class="icon-btn validar-btn" title="Validar"><i class="material-icons">check_circle</i></button>
          <button class="icon-btn salvar-btn" style="display: none;" title="Salvar"><i class="material-icons">save</i></button>
        </div>
      </div>
    </div>

    <div class="lead-item" data-id="oque">
      <h4>üìå O qu√™?</h4>
      <div class="lead-conteudo">
        <span class="lead-text">Anunciou medidas para reduzir a d√≠vida p√∫blica.</span>
        <input type="text" class="lead-input" style="display: none;" />
        <div class="lead-acoes">
          <button class="icon-btn editar-btn" title="Editar"><i class="material-icons">edit</i></button>
          <button class="icon-btn validar-btn" title="Validar"><i class="material-icons">check_circle</i></button>
          <button class="icon-btn salvar-btn" style="display: none;" title="Salvar"><i class="material-icons">save</i></button>
        </div>
      </div>
    </div>

    <div class="lead-item" data-id="quando">
      <h4>üïí Quando?</h4>
      <div class="lead-conteudo">
        <span class="lead-text">Nesta quarta-feira, durante a confer√™ncia anual.</span>
        <input type="text" class="lead-input" style="display: none;" />
        <div class="lead-acoes">
          <button class="icon-btn editar-btn" title="Editar"><i class="material-icons">edit</i></button>
          <button class="icon-btn validar-btn" title="Validar"><i class="material-icons">check_circle</i></button>
          <button class="icon-btn salvar-btn" style="display: none;" title="Salvar"><i class="material-icons">save</i></button>
        </div>
      </div>
    </div>

    <div class="lead-item" data-id="onde">
      <h4>üìç Onde?</h4>
      <div class="lead-conteudo">
        <span class="lead-text">Em Lisboa, no Centro de Confer√™ncias da Cidade.</span>
        <input type="text" class="lead-input" style="display: none;" />
        <div class="lead-acoes">
          <button class="icon-btn editar-btn" title="Editar"><i class="material-icons">edit</i></button>
          <button class="icon-btn validar-btn" title="Validar"><i class="material-icons">check_circle</i></button>
          <button class="icon-btn salvar-btn" style="display: none;" title="Salvar"><i class="material-icons">save</i></button>
        </div>
      </div>
    </div>

    <div class="lead-item" data-id="como">
      <h4>‚öôÔ∏è Como?</h4>
      <div class="lead-conteudo">
        <span class="lead-text">Com emiss√£o de novos t√≠tulos da d√≠vida e corte de gastos.</span>
        <input type="text" class="lead-input" style="display: none;" />
        <div class="lead-acoes">
          <button class="icon-btn editar-btn" title="Editar"><i class="material-icons">edit</i></button>
          <button class="icon-btn validar-btn" title="Validar"><i class="material-icons">check_circle</i></button>
          <button class="icon-btn salvar-btn" style="display: none;" title="Salvar"><i class="material-icons">save</i></button>
        </div>
      </div>
    </div>

    <div class="lead-item" data-id="porque">
      <h4>‚ùì Por qu√™?</h4>
      <div class="lead-conteudo">
        <span class="lead-text">Para recuperar a credibilidade financeira do pa√≠s.</span>
        <input type="text" class="lead-input" style="display: none;" />
        <div class="lead-acoes">
          <button class="icon-btn editar-btn" title="Editar"><i class="material-icons">edit</i></button>
          <button class="icon-btn validar-btn" title="Validar"><i class="material-icons">check_circle</i></button>
          <button class="icon-btn salvar-btn" style="display: none;" title="Salvar"><i class="material-icons">save</i></button>
        </div>
      </div>
    </div>
    <div class="painel-acoes">
      <button class="primary-button" onclick="submeterPainel(4)">
        <i class="material-icons">done</i> Submeter Lead
      </button>
    </div>
    
  </div>
</section>

<!-- PAINEL 4: Fontes e Transcri√ß√µes -->
<section id="painel-fontes" class="organizacao-painel" style="display: none;">
  <h2>Fontes e Transcri√ß√µes</h2>
  <p>Abaixo est√£o excertos extra√≠dos automaticamente dos ficheiros analisados. Edite ou valide conforme necess√°rio.</p>

  <!-- BLOCO DE FONTE -->
  <div class="fonte-bloco">
    <label>Fonte:</label>
    <div class="fonte-nome-wrapper">
      <span class="fonte-nome-preview">Jo√£o Mendes (Economista)</span>
      <input type="text" class="fonte-nome-editar" style="display: none;" />
      <button class="icon-button editar-fonte" title="Editar Nome"><i class="material-icons">edit</i></button>
    </div>

    <label>Excerto:</label>
    <div class="fonte-excerto">
      <blockquote>
        ‚ÄúA d√≠vida p√∫blica cresceu 12% no √∫ltimo trimestre, e os mecanismos atuais de conten√ß√£o est√£o a falhar.‚Äù
      </blockquote>

      <div class="fonte-acoes">
        <button class="icon-button validar-fonte" title="Validar Fonte"><i class="material-icons">check_circle</i></button>
        <button class="link-button ver-transcricao" title="Mostrar transcri√ß√£o completa">Ver transcri√ß√£o completa</button>
      </div>

      <!-- √ÅREA OCULTA: TRANSCRI√á√ÉO COMPLETA -->
      <div class="transcricao-completa" style="display: none;">
        <h4>üó£Ô∏è Transcri√ß√£o de √Åudio:</h4>
        <p>
          "Bom dia. Sobre o relat√≥rio financeiro de 2024, √© importante destacar que o crescimento do endividamento est√° acima do previsto. O Estado precisar√° rever a pol√≠tica de gastos..."
        </p>

        <h4>üìÑ Trecho do Documento:</h4>
        <p>
          "...O Relat√≥rio Anual de Execu√ß√£o Or√ßamental revela um aumento de 12,3% no endividamento l√≠quido, pressionando os limites fiscais definidos na lei n¬∫ 23/2019..."
        </p>
      </div>
    </div>
  </div>

  <div class="painel-acoes">
    <button class="primary-button" onclick="submeterPainel(5)">
      <i class="material-icons">done</i> Submeter Fontes
    </button>
  </div>
</section>

      <!-- CONTEXTO -->
<section id="painel-contexto" class="organizacao-painel" style="display: none;">
  <h2>Informa√ß√µes Contextuais Complementares</h2>
  <p>Estes conte√∫dos foram sugeridos pela IA para contextualizar ou aprofundar o tema. Pode editar ou validar individualmente:</p>

  <div id="blocos-contexto" class="contexto-lista">
    <div class="contexto-item">
      <span class="contexto-preview">A d√≠vida p√∫blica portuguesa cresceu 12,3% em 2023, segundo dados do Banco de Portugal.</span>
      <textarea class="contexto-editar" style="display: none;"></textarea>
      <div class="contexto-acoes">
        <button class="icon-btn editar-contexto" title="Editar"><i class="material-icons">edit</i></button>
        <button class="icon-btn validar-contexto" title="Validar"><i class="material-icons">check_circle</i></button>
        <button class="icon-btn salvar-contexto" title="Salvar" style="display: none;"><i class="material-icons">save</i></button>
      </div>
    </div>

    <div class="contexto-item">
      <span class="contexto-preview">Especialistas defendem que o impacto das reformas fiscais precisa ser revisto √† luz das novas metas europeias.</span>
      <textarea class="contexto-editar" style="display: none;"></textarea>
      <div class="contexto-acoes">
        <button class="icon-btn editar-contexto"><i class="material-icons">edit</i></button>
        <button class="icon-btn validar-contexto"><i class="material-icons">check_circle</i></button>
        <button class="icon-btn salvar-contexto" style="display: none;"><i class="material-icons">save</i></button>
      </div>
    </div>
  </div>

  <div class="painel-acoes">
    <button class="secondary-button" onclick="gerarMaisContexto()">
      <i class="material-icons">add_circle</i> Mais Sugest√µes da IA
    </button>

    <button class="primary-button" onclick="submeterPainel(6)">
      <i class="material-icons">done</i> Submeter Contexto
    </button>
  </div>
</section>

<!-- √ÅREA DE REFORMULA√á√ÉO COM DOIS PAIN√âIS LADO A LADO -->
<div class="reformulacao-area oculto" id="painelReformulacao">

  <!-- Painel Esquerdo: √Årea de trabalho -->
  <section class="painel-reformulacao">

    <!-- Link do artigo -->
    <div class="input-icon">
      <i class="material-icons">link</i>
      <input type="text" id="linkArtigo" placeholder="Cole o link do artigo aqui..." />
      <button class="mini-button" onclick="carregarArtigo()">Carregar</button>
    </div>

    <!-- Textarea + bot√£o de upload -->
    <div class="text-wrapper">
      <textarea id="conteudoOriginal" placeholder="O conte√∫do carregado aparecer√° aqui..."></textarea>
      <div class="fab-inside-text" title="Anexar ficheiro">
        <button onclick="toggleUploadOptions()">+</button>
      </div>
    </div>

    <!-- Op√ß√µes de upload -->
    <div class="upload-options" id="uploadOptions" style="display: none;">
      <label><i class="material-icons">image</i> Imagem
        <input type="file" accept="image/*" onchange="handleFileUpload(event, 'Imagem')" />
      </label>
      <label><i class="material-icons">audiotrack</i> √Åudio
        <input type="file" accept="audio/*" onchange="handleFileUpload(event, '√Åudio')" />
      </label>
      <label><i class="material-icons">description</i> Documento
        <input type="file" accept=".pdf,.doc,.docx" onchange="handleFileUpload(event, 'Documento')" />
      </label>
      <label><i class="material-icons">videocam</i> V√≠deo
        <input type="file" accept="video/*" onchange="handleFileUpload(event, 'V√≠deo')" />
      </label>
    </div>

    <!-- Lista de ficheiros carregados -->
    <div class="upload-preview-list" id="previewList"></div>

    <!-- Bot√µes -->
    <div class="form-actions">
      <div class="action-group">
        <button class="secondary-button" onclick="voltarParaInicio()">
          <i class="material-icons">arrow_back</i> Voltar
        </button>
      </div>
      <div class="action-group">
        <button class="secondary-button"><i class="material-icons">close</i> Cancelar</button>
        <button class="primary-button"><i class="material-icons">sync_alt</i> Organizar com IA</button>
      </div>
    </div>
  </section>

  <!-- Painel Direito: Sidebar de √öltimas Not√≠cias -->
  <aside class="painel-noticias" id="painelSidebarNoticias">
    <h3><i class="material-icons">rss_feed</i> √öltimas Not√≠cias</h3>

    <div class="categorias-noticias">
      <button class="categoria ativa">Todos</button>
      <button class="categoria">Tecnologia</button>
      <button class="categoria">Neg√≥cios</button>
      <button class="categoria">Ci√™ncia</button>
    </div>

    <ul class="lista-noticias">
      <li>
        <strong class="noticia-titulo-grande">Apple lan√ßa novo chip revolucion√°rio</strong>
        <p>O novo M3 promete desempenho at√© 30% superior.</p>
        <span class="fonte-info">TechCrunch ¬∑ h√° 2h</span>
        <button class="reformular-btn" onclick="carregarParaReformulacao(this)">Reformular</button>
      </li>
      <li>
        <strong class="noticia-titulo">Brasil lidera inova√ß√£o em energia limpa</strong>
        <p>Investimentos em energia solar crescem 40%.</p>
        <span class="fonte-info">CNN Brasil ¬∑ h√° 5h</span>
        <button class="reformular-btn" onclick="carregarParaReformulacao(this)">Reformular</button>
      </li>
    </ul>
  </aside>

</div>

        

